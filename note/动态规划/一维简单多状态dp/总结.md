# 动态规划 · 一维简单多状态dp｜总结

关键：多状态定义、状态转移清晰、相邻约束处理。

## 模板要点（抽象而非整段代码）

- 打家劫舍类（多状态DP）
  - 状态：T[i] 表示选择第 i 个元素的最大收益，F[i] 表示不选择第 i 个元素的最大收益
  - 转移：
    - T[i] = F[i-1] + value[i]（选择当前元素，前一个不能选）
    - F[i] = max(T[i-1], F[i-1])（不选当前元素，前一个可选可不选）
  - 核心思想：相邻元素不能同时选择的最优化问题
  - 变种处理：
    - 环形数组：分情况讨论（偷第一个/不偷第一个）
    - 问题转化：先预处理数据，转化为标准打家劫舍问题

- 股票买卖类（多状态DP）
  - 状态：buy[i] 表示第i天持有股票的最大收益，sell[i] 表示第i天不持有股票的最大收益
  - 转移：
    - buy[i] = max(buy[i-1], sell[i-1] - prices[i-1])（保持持有或从卖出状态买入）
    - sell[i] = max(sell[i-1], buy[i-1] + prices[i-1])（保持不持有或从持有状态卖出）
  - 变种处理：
    - 限制交易次数：增加状态维度（如first_buy, first_sell, second_buy, second_sell）
    - 含冷冻期：增加冷冻期状态，只能从卖出状态转移
    - k次交易：使用2k个状态，奇偶索引分别表示买入和卖出

- 粉刷房子类（多状态DP）
  - 状态：red[i], green[i], blue[i] 分别表示第i个房子刷对应颜色的最小成本
  - 转移：当前颜色成本 = min(其他两种颜色的前一个状态) + 当前颜色成本
  - 核心思想：相邻房子不能同色，选择最小成本

## 复杂度
- 时间复杂度：O(n)
- 空间复杂度：O(n)（可优化为O(1)）

## 题目索引（代码与力扣链接）
- 198 打家劫舍 — [代码](../../../code/动态规划/一维简单多状态dp/198%20打家劫舍.cpp) | [LeetCode](https://leetcode.cn/problems/house-robber/)
- 213 打家劫舍 II — [代码](../../../code/动态规划/一维简单多状态dp/213%20打家劫舍%20II.cpp) | [LeetCode](https://leetcode.cn/problems/house-robber-ii/)
- 740 删除并获得点数 — [代码](../../../code/动态规划/一维简单多状态dp/740%20删除并获得点数.cpp) | [LeetCode](https://leetcode.cn/problems/delete-and-earn/)
- LCR 091 粉刷房子 — [代码](../../../code/动态规划/一维简单多状态dp/LCR%20091%20粉刷房子.cpp) | [LeetCode](https://leetcode.cn/problems/JEj789/)
- 121 买卖股票的最佳时机 — [代码](../../../code/动态规划/一维简单多状态dp/121%20买卖股票的最佳时机.cpp) | [LeetCode](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/)
- 122 买卖股票的最佳时机 II — [代码](../../../code/动态规划/一维简单多状态dp/122%20买卖股票的最佳时机%20II.cpp) | [LeetCode](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/)
- 123 买卖股票的最佳时机 III — [代码](../../../code/动态规划/一维简单多状态dp/123%20买卖股票的最佳时机%20III.cpp) | [LeetCode](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/)
- 188 买卖股票的最佳时机 IV — [代码](../../../code/动态规划/一维简单多状态dp/188%20买卖股票的最佳时机%20IV.cpp) | [LeetCode](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/)
- 309 买卖股票的最佳时机含冷冻期 — [代码](../../../code/动态规划/一维简单多状态dp/309%20买卖股票的最佳时机含冷冻期.cpp) | [LeetCode](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/)
