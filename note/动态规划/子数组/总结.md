# 动态规划 · 子数组｜总结

关键：子数组连续性、状态定义清晰、边界处理、特殊约束。

## 模板要点（抽象而非整段代码）

- 最大子数组和类（基础DP）

  - 状态：dp[i] 表示以第i个元素结尾的最大子数组和
  - 转移：dp[i] = max(dp[i-1] + nums[i-1], nums[i-1])
  - 核心思想：要么延续前面的子数组，要么重新开始

- 环形子数组类（分类讨论）

  - 状态：维护最大值和最小值两个dp数组
  - 转移：分别计算线形最大子数组和最小子数组
  - 核心思想：环形 = max(线形最大, 总和 - 线形最小)
  - 注意：子数组不能为空，需要特殊处理

- 乘积子数组类（双状态DP）

  - 状态：_max[i] 和 _min[i] 分别表示以第i个元素结尾的最大和最小乘积
  - 转移：考虑负数会让最大值变最小值的情况
  - 核心思想：同时维护最大值和最小值，处理符号变化

- 乘积正负性类（条件DP）

  - 状态：pos[i] 和 neg[i] 分别表示以第i个元素结尾的正数和负数子数组长度
  - 转移：根据当前元素正负性和前一个状态进行转移
  - 核心思想：正数延续正数，负数翻转正负数长度

- 湍流子数组类（关系编码DP）

  - 状态：dp[i] 表示以第i个元素结尾的最长湍流子数组长度
  - 转移：根据相邻元素大小关系的变化模式进行转移
  - 核心思想：编码大小关系，寻找交替变化模式

- 字符串子数组类（字符串hash + DP）

  - 状态：dp[i] 表示前i个字符能否由字典中的单词组成
  - 转移：枚举所有可能的分割点，检查子串是否在字典中
  - 核心思想：使用hash表快速判断子串是否在字典中

- 环绕字符串类（连续字符DP）

  - 状态：dp[i] 表示以第i个字符结尾的最长连续子串长度
  - 转移：检查与前一个字符是否相邻（环绕关系）
  - 核心思想：统计每个字符作为结尾的最长子串长度


## 复杂度

- 时间复杂度：O(n)
- 空间复杂度：O(n)（可优化为O(1)）

## 题目索引（代码与力扣链接）

- 53 最大子数组和 — [代码](../../../code/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E5%AD%90%E6%95%B0%E7%BB%84%E4%B8%93%E9%A2%98/53%20%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E5%92%8C.cpp) | [LeetCode](https://leetcode.cn/problems/maximum-subarray/)
- 918 环形子数组的最大和 — [代码](../../../code/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E5%AD%90%E6%95%B0%E7%BB%84%E4%B8%93%E9%A2%98/918%20%E7%8E%AF%E5%BD%A2%E5%AD%90%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%80%E5%A4%A7%E5%92%8C.cpp) | [LeetCode](https://leetcode.cn/problems/maximum-sum-circular-subarray/)
- 152 乘积最大子数组 — [代码](../../../code/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E5%AD%90%E6%95%B0%E7%BB%84%E4%B8%93%E9%A2%98/152%20%E4%B9%98%E7%A7%AF%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84.cpp) | [LeetCode](https://leetcode.cn/problems/maximum-product-subarray/)
- 1567 乘积为正数的最长子数组长度 — [代码](../../../code/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E5%AD%90%E6%95%B0%E7%BB%84%E4%B8%93%E9%A2%98/1567%20%E4%B9%98%E7%A7%AF%E4%B8%BA%E6%AD%A3%E6%95%B0%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E6%95%B0%E7%BB%84%E9%95%BF%E5%BA%A6.cpp) | [LeetCode](https://leetcode.cn/problems/maximum-length-of-subarray-with-positive-product/)
- 978 最长湍流子数组 — [代码](../../../code/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E5%AD%90%E6%95%B0%E7%BB%84%E4%B8%93%E9%A2%98/978%20%E6%9C%80%E9%95%BF%E6%B9%8D%E6%B5%81%E5%AD%90%E6%95%B0%E7%BB%84.cpp) | [LeetCode](https://leetcode.cn/problems/longest-turbulent-subarray/)
- 139 单词拆分 — [代码](../../../code/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E5%AD%90%E6%95%B0%E7%BB%84%E4%B8%93%E9%A2%98/139%20%E5%8D%95%E8%AF%8D%E6%8B%86%E5%88%86.cpp) | [LeetCode](https://leetcode.cn/problems/word-break/)
- 467 环绕字符串中唯一的子字符串 — [代码](../../../code/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E5%AD%90%E6%95%B0%E7%BB%84%E4%B8%93%E9%A2%98/467%20%E7%8E%AF%E7%BB%95%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%94%AF%E4%B8%80%E7%9A%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2.cpp) | [LeetCode](https://leetcode.cn/problems/unique-substrings-in-wraparound-string/)